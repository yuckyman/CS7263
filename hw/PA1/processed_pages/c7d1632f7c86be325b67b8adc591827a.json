[
  "the",
  "url",
  "frontier",
  "next",
  "distributing",
  "indexes",
  "up",
  "crawling",
  "previous",
  "dns",
  "resolution",
  "contents",
  "index",
  "the",
  "url",
  "frontier",
  "the",
  "url",
  "frontier",
  "at",
  "a",
  "node",
  "is",
  "given",
  "a",
  "url",
  "by",
  "its",
  "crawl",
  "process",
  "or",
  "by",
  "the",
  "host",
  "splitter",
  "of",
  "another",
  "crawl",
  "process",
  "it",
  "maintains",
  "the",
  "urls",
  "in",
  "the",
  "frontier",
  "and",
  "regurgitates",
  "them",
  "in",
  "some",
  "order",
  "whenever",
  "a",
  "crawler",
  "thread",
  "seeks",
  "a",
  "url",
  "two",
  "important",
  "considerations",
  "govern",
  "the",
  "order",
  "in",
  "which",
  "urls",
  "are",
  "returned",
  "by",
  "the",
  "frontier",
  "first",
  "highquality",
  "pages",
  "that",
  "change",
  "frequently",
  "should",
  "be",
  "prioritized",
  "for",
  "frequent",
  "crawling",
  "thus",
  "the",
  "priority",
  "of",
  "a",
  "page",
  "should",
  "be",
  "a",
  "function",
  "of",
  "both",
  "its",
  "change",
  "rate",
  "and",
  "its",
  "quality",
  "using",
  "some",
  "reasonable",
  "quality",
  "estimate",
  "the",
  "combination",
  "is",
  "necessary",
  "because",
  "a",
  "large",
  "number",
  "of",
  "spam",
  "pages",
  "change",
  "completely",
  "on",
  "every",
  "fetch",
  "the",
  "second",
  "consideration",
  "is",
  "politeness",
  "we",
  "must",
  "avoid",
  "repeated",
  "fetch",
  "requests",
  "to",
  "a",
  "host",
  "within",
  "a",
  "short",
  "time",
  "span",
  "the",
  "likelihood",
  "of",
  "this",
  "is",
  "exacerbated",
  "because",
  "of",
  "a",
  "form",
  "of",
  "locality",
  "of",
  "reference",
  "many",
  "urls",
  "link",
  "to",
  "other",
  "urls",
  "at",
  "the",
  "same",
  "host",
  "as",
  "a",
  "result",
  "a",
  "url",
  "frontier",
  "implemented",
  "as",
  "a",
  "simple",
  "priority",
  "queue",
  "might",
  "result",
  "in",
  "a",
  "burst",
  "of",
  "fetch",
  "requests",
  "to",
  "a",
  "host",
  "this",
  "might",
  "occur",
  "even",
  "if",
  "we",
  "were",
  "to",
  "constrain",
  "the",
  "crawler",
  "so",
  "that",
  "at",
  "most",
  "one",
  "thread",
  "could",
  "fetch",
  "from",
  "any",
  "single",
  "host",
  "at",
  "any",
  "time",
  "a",
  "common",
  "heuristic",
  "is",
  "to",
  "insert",
  "a",
  "gap",
  "between",
  "successive",
  "fetch",
  "requests",
  "to",
  "a",
  "host",
  "that",
  "is",
  "an",
  "order",
  "of",
  "magnitude",
  "larger",
  "than",
  "the",
  "time",
  "taken",
  "for",
  "the",
  "most",
  "recent",
  "fetch",
  "from",
  "that",
  "host",
  "figure",
  "203",
  "shows",
  "a",
  "polite",
  "and",
  "prioritizing",
  "implementation",
  "of",
  "a",
  "url",
  "frontier",
  "its",
  "goals",
  "are",
  "to",
  "ensure",
  "that",
  "i",
  "only",
  "one",
  "connection",
  "is",
  "open",
  "at",
  "a",
  "time",
  "to",
  "any",
  "host",
  "ii",
  "a",
  "waiting",
  "time",
  "of",
  "a",
  "few",
  "seconds",
  "occurs",
  "between",
  "successive",
  "requests",
  "to",
  "a",
  "host",
  "and",
  "iii",
  "highpriority",
  "pages",
  "are",
  "crawled",
  "preferentially",
  "the",
  "two",
  "major",
  "submodules",
  "are",
  "a",
  "set",
  "of",
  "front",
  "queues",
  "in",
  "the",
  "upper",
  "portion",
  "of",
  "the",
  "figure",
  "and",
  "a",
  "set",
  "of",
  "back",
  "queues",
  "in",
  "the",
  "lower",
  "part",
  "all",
  "of",
  "these",
  "are",
  "fifo",
  "queues",
  "the",
  "front",
  "queues",
  "implement",
  "the",
  "prioritization",
  "while",
  "the",
  "back",
  "queues",
  "implement",
  "politeness",
  "in",
  "the",
  "flow",
  "of",
  "a",
  "url",
  "added",
  "to",
  "the",
  "frontier",
  "as",
  "it",
  "makes",
  "its",
  "way",
  "through",
  "the",
  "front",
  "and",
  "back",
  "queues",
  "a",
  "prioritizer",
  "first",
  "assigns",
  "to",
  "the",
  "url",
  "an",
  "integer",
  "priority",
  "between",
  "1",
  "and",
  "based",
  "on",
  "its",
  "fetch",
  "history",
  "taking",
  "into",
  "account",
  "the",
  "rate",
  "at",
  "which",
  "the",
  "web",
  "page",
  "at",
  "this",
  "url",
  "has",
  "changed",
  "between",
  "previous",
  "crawls",
  "for",
  "instance",
  "a",
  "document",
  "that",
  "has",
  "exhibited",
  "frequent",
  "change",
  "would",
  "be",
  "assigned",
  "a",
  "higher",
  "priority",
  "other",
  "heuristics",
  "could",
  "be",
  "applicationdependent",
  "and",
  "explicit",
  "for",
  "instance",
  "urls",
  "from",
  "news",
  "services",
  "may",
  "always",
  "be",
  "assigned",
  "the",
  "highest",
  "priority",
  "now",
  "that",
  "it",
  "has",
  "been",
  "assigned",
  "priority",
  "the",
  "url",
  "is",
  "now",
  "appended",
  "to",
  "the",
  "th",
  "of",
  "the",
  "front",
  "queues",
  "each",
  "of",
  "the",
  "back",
  "queues",
  "maintains",
  "the",
  "following",
  "invariants",
  "i",
  "it",
  "is",
  "nonempty",
  "while",
  "the",
  "crawl",
  "is",
  "in",
  "progress",
  "and",
  "ii",
  "it",
  "only",
  "contains",
  "urls",
  "from",
  "a",
  "single",
  "host",
  "an",
  "auxiliary",
  "table",
  "figure",
  "204",
  "is",
  "used",
  "to",
  "maintain",
  "the",
  "mapping",
  "from",
  "hosts",
  "to",
  "back",
  "queues",
  "whenever",
  "a",
  "backqueue",
  "is",
  "empty",
  "and",
  "is",
  "being",
  "refilled",
  "from",
  "a",
  "frontqueue",
  "table",
  "must",
  "be",
  "updated",
  "accordingly",
  "in",
  "addition",
  "we",
  "maintain",
  "a",
  "heap",
  "with",
  "one",
  "entry",
  "for",
  "each",
  "back",
  "queue",
  "the",
  "entry",
  "being",
  "the",
  "earliest",
  "time",
  "at",
  "which",
  "the",
  "host",
  "corresponding",
  "to",
  "that",
  "queue",
  "can",
  "be",
  "contacted",
  "again",
  "figure",
  "204",
  "example",
  "of",
  "an",
  "auxiliary",
  "hoststoback",
  "queues",
  "table",
  "a",
  "crawler",
  "thread",
  "requesting",
  "a",
  "url",
  "from",
  "the",
  "frontier",
  "extracts",
  "the",
  "root",
  "of",
  "this",
  "heap",
  "and",
  "if",
  "necessary",
  "waits",
  "until",
  "the",
  "corresponding",
  "time",
  "entry",
  "it",
  "then",
  "takes",
  "the",
  "url",
  "at",
  "the",
  "head",
  "of",
  "the",
  "back",
  "queue",
  "corresponding",
  "to",
  "the",
  "extracted",
  "heap",
  "root",
  "and",
  "proceeds",
  "to",
  "fetch",
  "the",
  "url",
  "after",
  "fetching",
  "the",
  "calling",
  "thread",
  "checks",
  "whether",
  "is",
  "empty",
  "if",
  "so",
  "it",
  "picks",
  "a",
  "front",
  "queue",
  "and",
  "extracts",
  "from",
  "its",
  "head",
  "a",
  "url",
  "the",
  "choice",
  "of",
  "front",
  "queue",
  "is",
  "biased",
  "usually",
  "by",
  "a",
  "random",
  "process",
  "towards",
  "queues",
  "of",
  "higher",
  "priority",
  "ensuring",
  "that",
  "urls",
  "of",
  "high",
  "priority",
  "flow",
  "more",
  "quickly",
  "into",
  "the",
  "back",
  "queues",
  "we",
  "examine",
  "to",
  "check",
  "whether",
  "there",
  "is",
  "already",
  "a",
  "back",
  "queue",
  "holding",
  "urls",
  "from",
  "its",
  "host",
  "if",
  "so",
  "is",
  "added",
  "to",
  "that",
  "queue",
  "and",
  "we",
  "reach",
  "back",
  "to",
  "the",
  "front",
  "queues",
  "to",
  "find",
  "another",
  "candidate",
  "url",
  "for",
  "insertion",
  "into",
  "the",
  "nowempty",
  "queue",
  "this",
  "process",
  "continues",
  "until",
  "is",
  "nonempty",
  "again",
  "in",
  "any",
  "case",
  "the",
  "thread",
  "inserts",
  "a",
  "heap",
  "entry",
  "for",
  "with",
  "a",
  "new",
  "earliest",
  "time",
  "based",
  "on",
  "the",
  "properties",
  "of",
  "the",
  "url",
  "in",
  "that",
  "was",
  "last",
  "fetched",
  "such",
  "as",
  "when",
  "its",
  "host",
  "was",
  "last",
  "contacted",
  "as",
  "well",
  "as",
  "the",
  "time",
  "taken",
  "for",
  "the",
  "last",
  "fetch",
  "then",
  "continues",
  "with",
  "its",
  "processing",
  "for",
  "instance",
  "the",
  "new",
  "entry",
  "could",
  "be",
  "the",
  "current",
  "time",
  "plus",
  "ten",
  "times",
  "the",
  "last",
  "fetch",
  "time",
  "the",
  "number",
  "of",
  "front",
  "queues",
  "together",
  "with",
  "the",
  "policy",
  "of",
  "assigning",
  "priorities",
  "and",
  "picking",
  "queues",
  "determines",
  "the",
  "priority",
  "properties",
  "we",
  "wish",
  "to",
  "build",
  "into",
  "the",
  "system",
  "the",
  "number",
  "of",
  "back",
  "queues",
  "governs",
  "the",
  "extent",
  "to",
  "which",
  "we",
  "can",
  "keep",
  "all",
  "crawl",
  "threads",
  "busy",
  "while",
  "respecting",
  "politeness",
  "the",
  "designers",
  "of",
  "mercator",
  "recommend",
  "a",
  "rough",
  "rule",
  "of",
  "three",
  "times",
  "as",
  "many",
  "back",
  "queues",
  "as",
  "crawler",
  "threads",
  "on",
  "a",
  "webscale",
  "crawl",
  "the",
  "url",
  "frontier",
  "may",
  "grow",
  "to",
  "the",
  "point",
  "where",
  "it",
  "demands",
  "more",
  "memory",
  "at",
  "a",
  "node",
  "than",
  "is",
  "available",
  "the",
  "solution",
  "is",
  "to",
  "let",
  "most",
  "of",
  "the",
  "url",
  "frontier",
  "reside",
  "on",
  "disk",
  "a",
  "portion",
  "of",
  "each",
  "queue",
  "is",
  "kept",
  "in",
  "memory",
  "with",
  "more",
  "brought",
  "in",
  "from",
  "disk",
  "as",
  "it",
  "is",
  "drained",
  "in",
  "memory",
  "exercises",
  "why",
  "is",
  "it",
  "better",
  "to",
  "partition",
  "hosts",
  "rather",
  "than",
  "individual",
  "urls",
  "between",
  "the",
  "nodes",
  "of",
  "a",
  "distributed",
  "crawl",
  "system",
  "why",
  "should",
  "the",
  "host",
  "splitter",
  "precede",
  "the",
  "duplicate",
  "url",
  "eliminator",
  "in",
  "the",
  "preceding",
  "discussion",
  "we",
  "encountered",
  "two",
  "recommended",
  "hard",
  "constants",
  "the",
  "increment",
  "on",
  "being",
  "ten",
  "times",
  "the",
  "last",
  "fetch",
  "time",
  "and",
  "the",
  "number",
  "of",
  "back",
  "queues",
  "being",
  "three",
  "times",
  "the",
  "number",
  "of",
  "crawl",
  "threads",
  "how",
  "are",
  "these",
  "two",
  "constants",
  "related",
  "next",
  "distributing",
  "indexes",
  "up",
  "crawling",
  "previous",
  "dns",
  "resolution",
  "contents",
  "index",
  "2008",
  "cambridge",
  "university",
  "pressthis",
  "is",
  "an",
  "automatically",
  "generated",
  "page",
  "in",
  "case",
  "of",
  "formatting",
  "errors",
  "you",
  "may",
  "want",
  "to",
  "look",
  "at",
  "the",
  "pdf",
  "edition",
  "of",
  "the",
  "book",
  "20090407"
]